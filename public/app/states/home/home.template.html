<script>
    $(document).ready(function () {
        $('.button-collapse').sideNav({
            menuWidth: 300, // Default is 300
            edge: 'left', // Choose the horizontal origin
            closeOnClick: false, // Closes side-nav on <a> clicks, useful for Angular/Meteor
            draggable: true // Choose whether you can drag to open on touch screens
        });
        // START OPEN
        $('.button-collapse').sideNav('hide');
        $('#add').modal();

        $("#filesystem").resizable();
        $('#filesystem').resize(function () {
            $('#editor').width($("#container").width() - $("#filesystem").width());
        });
        $(window).resize(function () {
            $('#editor').width($("#container").width() - $("#filesystem").width());
            $('#filesystem').height($("#container").height());
        });
    });
</script>
<style>
    li:hover {
        background-color: #757575;
    }

    ::-webkit-scrollbar {
        display: none;
    }

    #container {
        position: absolute;
        height: 78%;
        margin: 0;
        padding: 0;
        width: 100%;
    }

    #filesystem {
        position: relative;
        float: left;
        height: 100%;
        width: 20%;
        min-width: 20%;
        max-width: 30%;
    }

    #editor {
        position: relative;
        float: left;
        height: 100%;
        width: 80%;
    }

    .ui-icon {
        display: none !important;
    }

    .grey-text:hover {
        color: #616161 !important;
    }
</style>
<br />
<ul id="slide-out" class="side-nav grey darken-2">
    <a class="btn btn-large waves-effect #2196f3 blue right" style="box-shadow: 0 0 0 0;" onclick="$('#add').modal('open');">
        <i class="material-icons">add</i>
    </a>
    <br />
    <br />
    <ul ng-repeat="render in renders">
        <li class="white-text" style="padding-left:15%;" ng-mouseover="arrow=true" ng-mouseleave="arrow=false" ng-init="arrow=false"
            ng-click="checkState(render[0])">{{render[0]}}
            <i class="material-icons right" style="vertical-align: middle !important; margin-right: 10%; margin-top:13px;" ng-show="arrow">keyboard_arrow_right</i>
        </li>
    </ul>
</ul>
<div id="container" class="container" ng-show="$root.render">
    <div id="filesystem">
        <span style="margin-left:10%;">
            <i class="material-icons" style="vertical-align: middle !important;">folder</i>{{$root.id}}</span>
        <br />
        <span style="margin-left:25%">
            <i class="material-icons" style="vertical-align: middle !important;">insert_drive_file</i>{{$root.view.split('/')[7]}}</span>
        <br />
        <span style="margin-left:25%" ng-show="$root.advancedCheck">
            <i class="material-icons" style="vertical-align: middle !important;">insert_drive_file</i>{{$root.model.split('/')[7]}}</span>
        <br />
        <span style="margin-left:25%" ng-show="$root.advancedCheck">
            <i class="material-icons" style="vertical-align: middle !important;">insert_drive_file</i>{{$root.ctrl.split('/')[7]}}</span>
        <div class="row">
            <div style="position: absolute;bottom: 25px;" class="col s1 offset-s2">
                <a tooltipped ng-click="download($root.id)" data-position="top" data-delay="50" data-tooltip="Descargar {{$root.id}}!">
                    <i class="material-icons grey-text" style="font-size: 30px">file_download</i>
                </a>
            </div>
            <div style="position: absolute;bottom: 25px;" class="col s1 offset-s4">
                <a tooltipped ng-click="delete($root.id)" data-position="top" data-delay="50" data-tooltip="Borrar {{$root.id}}!">
                    <i class="material-icons grey-text" style="font-size: 30px">delete</i>
                </a>
            </div>
            <div style="position: absolute;bottom: 15px;" class="col s1 offset-s6">
                <div class="switch">
                    <label>
                        <input type="checkbox" ng-checked="false" ng-true-value="true" ng-false-value="false" ng-model="$root.advancedCheck">
                        <span class="lever"></span>
                    </label>
                </div>
                <span style="font-size:14px; margin-left:5px;">Advanced</span>
            </div>
        </div>
    </div>
    <div id="editor" style="margin-top:7px;">
        <ui-view></ui-view>
    </div>
</div>


<div id="add" class="modal" style="width:80%;">
    <div class="modal-content">
        <h4>Create new render</h4>
        <div class="row">
            <div class="input-field col s2" style="margin-top: 20px;">
                <input type="text" id="name" name="name" ng-model="name">
                <label for="name">Render name</label>
            </div>
            <div class="file-field input-field col s4">
                <div class="btn waves-effect waves-light #9e9e9e grey" style="margin-left: 50px;">
                    Select Sample Model
                    <input tooltipped type="file" name="model" id="modelFile" data-position="top" data-delay="50" data-tooltip="Attach a .json file!"
                    />
                </div>
            </div>
            <div class="file-field input-field col s3">
                <div class="btn waves-effect waves-light #9e9e9e grey">
                    Select View
                    <input tooltipped type="file" name="view" id="viewFile" data-position="top" data-delay="50" data-tooltip="Attach a .ang file!"
                    />
                </div>
            </div>
            <div class="file-field input-field col s3" style="margin-left: -20px;">
                <div class="btn waves-effect waves-light #9e9e9e grey">
                    Select Ctrl
                    <input tooltipped type="file" name="ctrl" id="ctrlFile" data-position="top" data-delay="50" data-tooltip="Attach a .ctl file!"
                    />
                </div>
            </div>
            <br />
            <br />
            <br />
            <div class="col s3 offset-s10">
                <button class="btn waves-effect waves-light blue" type='submit' value='Upload!' ng-click="add()" style="margin-left:-10px;">
                    Add Render
                </button>
            </div>
        </div>
        <br />
        <!-- Error message -->
        <div class="row" ng-if="error">
            <div class="col s12 center-align">
                <div class="card-panel #f44336 red z-depth-0">
                    <span class="back-text">{{error}}</span>
                </div>
            </div>
        </div>
        <br />
        <div class="row">
            <div class="col s4">
                <button class="btn waves-effect waves-light #90caf9 blue lighten-3" ng-click="downloadExampleModel()" style="margin-left:10%">
                    Download example.json
                </button>
            </div>
            <div class="col s4">
                <button class="btn waves-effect waves-light #90caf9 blue lighten-3" ng-click="downloadExampleView()" style="margin-left:10%">
                    Download example.ang
                </button>
            </div>
            <div class="col s4">
                <button class="btn waves-effect waves-light #90caf9 blue lighten-3" ng-click="downloadExampleCtrl()" style="margin-left:10%">
                    Download example.ctl
                </button>
            </div>
        </div>
    </div>
</div>